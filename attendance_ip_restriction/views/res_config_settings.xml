<?xml version="1.0" encoding="utf-8"?>
<odoo>
  <record id="res_config_settings_view_form_inherit_attendance_ip" model="ir.ui.view">
    <field name="name">res.config.settings.view.form.inherit.attendance.ip</field>
    <field name="model">res.config.settings</field>
    <field name="inherit_id" ref="base.res_config_settings_view_form"/>
    <!-- higher number = applied later; ensures hr_attendance app exists first -->
    <field name="priority" eval="90"/>
    <field name="arch" type="xml">
      <!-- Hit the Attendances app in v17/v18 -->
      <xpath expr="//app[@name='hr_attendance'] | //app[@data-key='hr_attendance'] | //app[@data-string='Attendances']"
             position="inside">
        <block title="Attendance IP Restriction" name="attendance_ip_restriction_block">
          <setting id="attendance_allowed_ips_setting"
                   string="Allowed IP Addresses"
                   help="Comma-separated IP addresses, e.g. 41.7.9.9, 192.168.1.100">
            <field name="attendance_allowed_ips" placeholder="41.7.9.9, 192.168.1.100"/>
          </setting>
        </block>
      </xpath>
    </field>
  </record>
</odoo>

<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Root Menu -->
    <menuitem id="menu_documents_root"
              name="Documents"
              sequence="10"
              web_icon="custom_documents,static/description/icon.png"/>

    <!-- ==================================
         SMART FILTER ACTIONS (Google Drive Style)
         ================================== -->
    
    <!-- My Drive Action -->
    <record id="action_my_drive" model="ir.actions.act_window">
        <field name="name">My Drive</field>
        <field name="res_model">custom.document</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('user_id', '=', uid), ('active', '=', True)]</field>
        <field name="context">{'search_default_my_drive': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Your drive is empty
            </p>
            <p>Upload your first document to get started.</p>
        </field>
    </record>

    <!-- Shared with Me Action -->
    <record id="action_shared_with_me" model="ir.actions.act_window">
        <field name="name">Shared with Me</field>
        <field name="res_model">custom.document</field>
        <field name="view_mode">list,form</field>
        <field name="domain">['|', ('share_line_ids.user_id', '=', uid), ('share_access', '=', 'internal'), ('user_id', '!=', uid), ('active', '=', True)]</field>
        <field name="context">{'search_default_shared_with_me': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No shared documents
            </p>
            <p>Documents shared with you will appear here.</p>
        </field>
    </record>

    <!-- Recent Action -->
    <record id="action_recent" model="ir.actions.act_window">
        <field name="name">Recent</field>
        <field name="res_model">custom.document</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('active', '=', True)]</field>
        <field name="context">{'search_default_recent': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                No recent documents
            </p>
            <p>Recently modified documents will appear here.</p>
        </field>
    </record>

    <!-- All Documents Action -->
    <record id="action_custom_document" model="ir.actions.act_window">
        <field name="name">All Documents</field>
        <field name="res_model">custom.document</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('active', '=', True)]</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first document
            </p>
            <p>Upload files or create URL links to organize your documents.</p>
        </field>
    </record>

    <!-- Trash Action -->
    <record id="action_trash" model="ir.actions.act_window">
        <field name="name">Trash</field>
        <field name="res_model">custom.document</field>
        <field name="view_mode">list,form</field>
        <field name="domain">[('active', '=', False)]</field>
        <field name="context">{'active_test': False, 'search_default_trash': 1}</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Trash is empty
            </p>
            <p>Deleted documents will appear here.</p>
        </field>
    </record>

    <!-- Tags Action -->
    <record id="action_custom_document_tag" model="ir.actions.act_window">
        <field name="name">Document Tags</field>
        <field name="res_model">custom.document.tag</field>
        <field name="view_mode">list,form</field>
        <field name="help" type="html">
            <p class="o_view_nocontent_smiling_face">
                Create your first tag
            </p>
            <p>Tags help you organize and categorize documents.</p>
        </field>
    </record>

    <!-- ==================================
         MENU ITEMS
         ================================== -->
    
    <!-- My Drive Menu -->
    <menuitem id="menu_my_drive"
              name="My Drive"
              parent="menu_documents_root"
              action="action_my_drive"
              sequence="1"/>

    <!-- Shared with Me Menu -->
    <menuitem id="menu_shared_with_me"
              name="Shared with Me"
              parent="menu_documents_root"
              action="action_shared_with_me"
              sequence="2"/>

    <!-- Recent Menu -->
    <menuitem id="menu_recent"
              name="Recent"
              parent="menu_documents_root"
              action="action_recent"
              sequence="3"/>

    <!-- All Documents Menu -->
    <menuitem id="menu_all_documents"
              name="All Documents"
              parent="menu_documents_root"
              action="action_custom_document"
              sequence="10"/>

    <!-- Manage Folders Menu -->
    <menuitem id="menu_custom_document_folders" 
              name="Manage Folders" 
              parent="menu_documents_root" 
              action="action_custom_document_folder_manage" 
              sequence="20"/>

    <!-- Trash Menu -->
    <menuitem id="menu_trash"
              name="Trash"
              parent="menu_documents_root"
              action="action_trash"
              sequence="40"/>

    <!-- Configuration Menu -->
    <menuitem id="menu_documents_config"
              name="Configuration"
              parent="menu_documents_root"
              sequence="100"
              groups="base.group_system"/>

    <!-- Tags Menu -->
    <menuitem id="menu_document_tags"
              name="Tags"
              parent="menu_documents_config"
              action="action_custom_document_tag"
              sequence="10"/>
</odoo>
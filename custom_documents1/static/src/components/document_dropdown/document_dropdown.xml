<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <!-- Main Dropdown Template -->
    <t t-name="custom_documents.DocumentDropdown">
        <div class="dropdown custom-document-dropdown">
            <button class="btn btn-primary dropdown-toggle" 
                    type="button" 
                    data-bs-toggle="dropdown" 
                    aria-expanded="false">
                <i class="fa fa-plus me-1"/> New
            </button>
            <ul class="dropdown-menu">
                <li>
                    <a class="dropdown-item" href="#" t-on-click="onUpload">
                        <i class="fa fa-upload me-2"/> Upload
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="#" t-on-click="onRequest">
                        <i class="fa fa-paper-plane me-2"/> Request
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="#" t-on-click="onLink">
                        <i class="fa fa-link me-2"/> Link
                    </a>
                </li>
                <li>
                    <a class="dropdown-item" href="#" t-on-click="onSpreadsheet">
                        <i class="fa fa-table me-2"/> Spreadsheet
                    </a>
                </li>
                <li><hr class="dropdown-divider"/></li>
                <li>
                    <a class="dropdown-item" href="#" t-on-click="onFolder">
                        <i class="fa fa-folder me-2"/> Folder
                    </a>
                </li>
            </ul>
        </div>
    </t>

    <!-- Upload Dialog Template -->
    <t t-name="custom_documents.UploadDialog">
        <Dialog title="'Upload Documents'" size="'md'">
            <div class="p-3">
                <div class="mb-3">
                    <label for="fileUpload" class="form-label">Choose files to upload</label>
                    <input type="file" 
                           class="form-control" 
                           id="fileUpload"
                           multiple="multiple"
                           t-on-change="onFileChange"/>
                </div>
                <div class="text-muted">
                    <small>You can select multiple files to upload at once.</small>
                </div>
            </div>
        </Dialog>
    </t>

    <!-- Folder Dialog Template -->
    <t t-name="custom_documents.FolderDialog">
        <Dialog title="'Add Folder'" size="'md'">
            <div class="p-3">
                <div class="mb-3">
                    <label for="folderName" class="form-label">Name</label>
                    <input type="text" 
                           class="form-control" 
                           id="folderName"
                           placeholder="e.g. Finance"
                           t-model="state.name"
                           t-att-value="state.name"/>
                </div>
            </div>
            <div t-slot="footer">
                <button type="button" 
                        class="btn btn-secondary" 
                        t-on-click="discard">Discard</button>
                <button type="button" 
                        class="btn btn-primary" 
                        t-on-click="save"
                        t-att-disabled="!state.name">Save</button>
            </div>
        </Dialog>
    </t>

    <!-- URL Dialog Template -->
    <t t-name="custom_documents.UrlDialog">
        <Dialog title="'Add Url'" size="'md'">
            <div class="p-3">
                <div class="mb-3">
                    <label for="urlInput" class="form-label">URL</label>
                    <input type="url" 
                           class="form-control" 
                           id="urlInput"
                           placeholder="e.g. https://www.youtube.com/watch?v=CP96yVoXNrY"
                           t-model="state.url"
                           t-att-value="state.url"/>
                </div>
                <div class="mb-3">
                    <label for="urlName" class="form-label">Name</label>
                    <input type="text" 
                           class="form-control" 
                           id="urlName"
                           t-model="state.name"
                           t-att-value="state.name"/>
                </div>
                <div class="mb-3">
                    <label class="form-label">Folder</label>
                    <select class="form-select" t-model="state.selectedFolder">
                        <option value="">No Folder</option>
                        <t t-foreach="props.folders || []" t-as="folder" t-key="folder.id">
                            <option t-att-value="folder.id" t-out="folder.complete_name"/>
                        </t>
                    </select>
                </div>
            </div>
            <div t-slot="footer">
                <button type="button" 
                        class="btn btn-secondary" 
                        t-on-click="discard">Discard</button>
                <button type="button" 
                        class="btn btn-primary" 
                        t-on-click="add"
                        t-att-disabled="!state.url">Add</button>
            </div>
        </Dialog>
    </t>

</templates>